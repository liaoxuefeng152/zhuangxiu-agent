# 装修避坑管家 - 功能测试用例

**版本**：V1.0  
**依据文档**：装修避坑管家 产品需求文档（PRD）V2.1  
**适用范围**：微信小程序功能测试

---

## 一、测试用例说明

| 字段 | 说明 |
|------|------|
| 用例编号 | TC-模块-序号 |
| 优先级 | P0=阻塞、P1=高、P2=中、P3=低 |
| 功能ID | 对应 PRD 中的 FR-xxx |

---

## 二、引导页（P01）

| 用例编号 | 功能ID | 用例名称 | 优先级 | 前置条件 | 测试步骤 | 预期结果 |
|----------|--------|----------|--------|----------|----------|----------|
| TC-P01-01 | FR-001 | 引导页首次展示 | P0 | 首次打开小程序 | 1. 打开小程序 | 展示核心图标、主副标题、三大能力项、主按钮、跳过链接，全屏居中布局 |
| TC-P01-02 | FR-002 | 能力项预览-报价单 | P1 | 在引导页 | 1. 点击「报价审核」能力项下方「点击预览示例」 | 弹出半透明弹窗展示报价单分析示例图，支持双指缩放，点击空白处关闭 |
| TC-P01-03 | FR-002 | 能力项预览-合同 | P1 | 在引导页 | 1. 点击「合同审核」能力项下方「点击预览示例」 | 弹出弹窗展示合同审核示例图 |
| TC-P01-04 | FR-002 | 能力项预览-验收 | P1 | 在引导页 | 1. 点击「验收分析」能力项下方「点击预览示例」 | 弹出弹窗展示验收分析示例图 |
| TC-P01-05 | FR-003 | **开始使用跳转** | **P0** | **在引导页** | **1. 点击「开始使用」按钮** | **跳转至首页，本地缓存 onboarding_completed=true，弹出「是否允许发送进度提醒」权限请求** |
| TC-P01-06 | FR-003 | 跳过跳转 | P1 | 在引导页 | 1. 点击「跳过」链接 | 跳转至首页 |
| TC-P01-07 | FR-003 | 倒计时自动跳转 | P1 | 在引导页 | 1. 等待倒计时结束（5秒） | 自动跳转至首页 |
| **TC-P01-08** | **FR-003** | **权限请求拒绝** | **P2** | **跳转后弹出权限请求** | **1. 点击「拒绝」** | **不影响首页使用，仅关闭提醒** |
| TC-P01-09 | FR-004 | 引导页滑动切换 | P1 | 在引导页 | 1. 左右滑动切换页面 | 可切换3张（品牌介绍、隐私保障、服务承诺），滑动时倒计时暂停，底部显示页码指示器 |
| TC-P01-10 | - | 已引导用户不再显示 | P1 | 已完成过一次引导 | 1. 关闭小程序后重新打开 | 直接进入首页，不显示引导页 |

---

## 三、首页（P02）

| 用例编号 | 功能ID | 用例名称 | 优先级 | 前置条件 | 测试步骤 | 预期结果 |
|----------|--------|----------|--------|----------|----------|----------|
| TC-P02-01 | FR-005 | 轮播图展示 | P0 | 在首页 | 1. 进入首页 | 展示3张轮播图，3秒/张自动播放，支持手动滑动 |
| TC-P02-02 | FR-005 | 轮播图点击-使用指南 | P1 | 在首页 | 1. 点击轮播图1 | 跳转至使用指南页 |
| TC-P02-03 | FR-005 | 轮播图点击-公司检测 | P1 | 在首页 | 1. 点击轮播图2 | 跳转至公司名称输入页 |
| TC-P02-04 | FR-005 | 轮播图点击-上传 | P1 | 在首页 | 1. 点击轮播图3 | 弹出「上传报价单/上传合同」选择 |
| TC-P02-05 | FR-005 | 轮播图加载失败 | P2 | 网络异常或 OSS 不可用 | 1. 进入首页 | 显示占位图，不影响其他功能 |
| TC-P02-06 | FR-006 | 公司检测入口 | P0 | 在首页 | 1. 点击「输入公司名称，检测是否跑路/有纠纷」 | 跳转至公司名称输入页 |
| TC-P02-07 | FR-007 | 报价单上传-未检测公司 | P1 | 未检测过公司 | 1. 点击「上传报价单」2. 观察弹窗 | 弹出提示弹窗，含「去检测公司」「继续上传」及「不再提示」勾选 |
| TC-P02-08 | FR-007 | 报价单上传-已检测公司 | P1 | 已检测过公司 | 1. 点击「上传报价单」 | 直接跳转至报价单上传页 |
| TC-P02-09 | FR-008 | 合同上传-未检测公司 | P1 | 未检测过公司 | 1. 点击「上传合同」 | 同 FR-007，弹出提示弹窗 |
| TC-P02-10 | FR-009 | 四宫格-施工进度 | P1 | 在首页 | 1. 点击「施工进度」 | 跳转至施工陪伴页 |
| TC-P02-11 | FR-009 | 四宫格-验收拍照 | P1 | 在首页 | 1. 点击「验收拍照」 | 跳转至拍照页 |
| TC-P02-12 | FR-009 | 四宫格-报告中心 | P1 | 在首页 | 1. 点击「报告中心」 | 跳转至报告列表页 |
| TC-P02-13 | FR-009 | 四宫格-监理咨询 | P1 | 在首页 | 1. 点击「监理咨询」 | 跳转至监理咨询页 |
| TC-P02-14 | FR-010 | 消息小红点 | P1 | 有未读消息且已登录 | 1. 进入首页 | 右上角铃铛显示小红点 |
| TC-P02-15 | FR-010 | 消息中心跳转 | P1 | 在首页 | 1. 点击右上角铃铛 | 跳转至消息中心页 |
| TC-P02-16 | - | 首次未检测提示 | P2 | 首次进入首页且未检测 | 1. 进入首页 | 弹出「建议先检测装修公司风险」提示，可选「去检测」或「跳过」 |

---

## 四、公司名称输入页（P03）

| 用例编号 | 功能ID | 用例名称 | 优先级 | 前置条件 | 测试步骤 | 预期结果 |
|----------|--------|----------|--------|----------|----------|----------|
| TC-P03-01 | FR-011 | 公司名称输入 | P0 | 在公司输入页 | 1. 输入公司名称（≥3字符） | 支持输入，自动去空格/特殊字符，最大50字符 |
| TC-P03-02 | FR-011 | 输入为空按钮置灰 | P1 | 在公司输入页 | 1. 输入框为空 2. 观察按钮 | 「开始检测」按钮置灰不可点击 |
| TC-P03-03 | FR-012 | 模糊匹配提示 | P1 | 天眼查已配置或本地有历史 | 1. 输入≥3个字符 | 下方展示模糊匹配结果列表，最多5条，点击可填充 |
| TC-P03-04 | FR-012 | 无匹配结果 | P2 | 输入生僻公司名 | 1. 输入不存在的公司名 | 提示「未查询到相关公司」 |
| TC-P03-05 | FR-013 | 检测触发 | P0 | 已输入有效公司名 | 1. 点击「开始检测」 | 跳转至检测中页，携带公司名称参数 |
| TC-P03-06 | FR-013 | 网络异常 | P2 | 断网 | 1. 输入公司名 2. 点击「开始检测」 | 提示「网络异常，无法触发检测」 |

---

## 五、检测中页（P04）

| 用例编号 | 功能ID | 用例名称 | 优先级 | 前置条件 | 测试步骤 | 预期结果 |
|----------|--------|----------|--------|----------|----------|----------|
| TC-P04-01 | FR-014 | 公司检测进度展示 | P0 | 从公司输入页跳转 | 1. 进入检测中页 | 显示加载动画+进度条+实时剩余时间 |
| TC-P04-02 | FR-014 | 检测完成展示 | P0 | 公司检测完成 | 1. 等待检测完成 | 显示绿色对勾，展示「查看检测报告」按钮 |
| TC-P04-03 | FR-015 | 查看报告跳转 | P0 | 检测完成 | 1. 点击「查看检测报告」 | 跳转至公司风险报告详情页 |
| TC-P04-04 | FR-014 | 5秒自动跳转 | P2 | 检测完成 | 1. 检测完成后不操作，等待5秒 | 自动跳转至「我的」页面 |
| TC-P04-05 | FR-014 | 取消自动跳转 | P2 | 检测完成 | 1. 点击「取消跳转」 | 停止倒计时，停留在当前页 |
| TC-P04-06 | FR-019 | 报价/合同两段进度 | P1 | 从报价单/合同上传跳转 | 1. 上传报价单或合同后进入 | 进度条分两段（上传进度→分析进度），实时更新 |
| TC-P04-07 | FR-014 | 检测失败 | P2 | 检测异常 | 1. 模拟检测失败 | 显示「检测失败，请重试」，提供重试按钮 |
| TC-P04-08 | FR-020 | 上传取消确认 | P2 | 上传过程中 | 1. 点击返回按钮 | 弹出「是否放弃上传？」确认弹窗 |

---

## 六、报价单上传页（P05）

| 用例编号 | 功能ID | 用例名称 | 优先级 | 前置条件 | 测试步骤 | 预期结果 |
|----------|--------|----------|--------|----------|----------|----------|
| TC-P05-01 | FR-016 | 未检测公司提示 | P1 | 未检测公司 | 1. 进入报价单上传页 | 顶部显示红色提示条，含「立即检测」按钮 |
| TC-P05-02 | FR-016 | 立即检测跳转 | P1 | 在报价单页 | 1. 点击「立即检测」 | 跳转至公司名称输入页 |
| TC-P05-03 | FR-017 | 选择文件上传 | P0 | 在报价单页 | 1. 点击「选择文件」2. 选择 PDF/JPG/PNG | 打开文件选择器，选择后显示文件信息，可开始分析 |
| TC-P05-04 | FR-017 | 拍照上传 | P0 | 在报价单页 | 1. 点击「拍照上传」 | 打开相机，拍摄后可确认上传 |
| **TC-P05-05** | **FR-017** | **文件格式错误** | **P1** | **选择非支持格式** | **1. 选择 .doc/.xlsx 等** | **提示「仅支持 PDF/JPG/PNG」** |
| TC-P05-06 | FR-017 | 文件过大 | P1 | 选择>10MB 文件 | 1. 选择超大文件 | 提示「文件不能超过10MB」 |
| **TC-P05-07** | **FR-018** | **示例图查看** | **P1** | **在报价单页** | **1. 点击「示例图」** | **弹出弹窗展示报价单示例图，支持双指缩放** |
| TC-P05-08 | - | 开始分析 | P0 | 已选择文件 | 1. 点击「开始分析」 | 跳转至检测中页，开始上传与分析 |

---

## 七、合同上传页（P07）

| 用例编号 | 功能ID | 用例名称 | 优先级 | 前置条件 | 测试步骤 | 预期结果 |
|----------|--------|----------|--------|----------|----------|----------|
| TC-P07-01 | FR-016/17/18 | 合同上传-复用逻辑 | P0 | 在合同上传页 | 1. 执行与 P05 相同的操作 | 未检测提示、文件选择/拍照、示例图、格式/大小校验同报价单 |
| TC-P07-02 | - | 开始分析跳转 | P0 | 已选择合同文件 | 1. 点击「开始分析」 | 跳转至检测中页 |

---

## 八、施工陪伴页（P09）

| 用例编号 | 功能ID | 用例名称 | 优先级 | 前置条件 | 测试步骤 | 预期结果 |
|----------|--------|----------|--------|----------|----------|----------|
| TC-P09-01 | FR-021 | 开工日期设置 | P0 | 无开工日期 | 1. 点击「设置开工日期」或快捷日期（7/15/30天后） | 弹出日期选择器，仅可选当日及以后，确认后刷新进度列表，toast「进度已更新」 |
| TC-P09-02 | FR-022 | 开工日期编辑 | P1 | 已设置开工日期 | 1. 点击「编辑开工日期」 | 重新弹出日期选择器，编辑后阶段时间自动重新推算 |
| TC-P09-03 | FR-023 | 进度阶段展示 | P0 | 已设置开工日期 | 1. 进入施工陪伴页 | 展示5阶段（水电/泥木/油漆/地板/软装），含名称、时间、进度条、状态，颜色区分 |
| TC-P09-04 | FR-024 | 进度状态更新 | P0 | 在施工陪伴页 | 1. 点击某阶段状态标签 2. 选择「待开始/进行中/已完成」 | 即时更新，toast「状态更新成功」，已完成时后续阶段时间自动推算 |
| TC-P09-05 | FR-025 | AI 验收跳转 | P1 | 在施工陪伴页 | 1. 点击「AI验收」 | 跳转至验收分析页 |
| TC-P09-06 | FR-025 | 拍照留证跳转 | P1 | 在施工陪伴页 | 1. 点击「拍照留证」 | 跳转至拍照页 |
| TC-P09-07 | FR-025 | 验收指引弹窗 | P1 | 在施工陪伴页 | 1. 点击「验收指引」 | 弹出该阶段验收要点（图文）弹窗 |
| TC-P09-08 | FR-026 | 进度偏差提醒 | P1 | 某阶段落后>3天 | 1. 进入施工陪伴页 | 弹出「进度提醒」弹窗，信息栏背景变橙，显示「落后计划X天」 |
| TC-P09-09 | FR-027 | 一键分享进度 | P2 | 在施工陪伴页 | 1. 点击「一键分享进度」 | 分享至微信好友/朋友圈，内容含当前进度、已完成阶段、预计完工日期 |
| TC-P09-10 | - | 使用指南跳转 | P2 | 在施工陪伴页 | 1. 点击「使用指南」 | 跳转至使用指南页 |

---

## 九、个人中心页（P10）

| 用例编号 | 功能ID | 用例名称 | 优先级 | 前置条件 | 测试步骤 | 预期结果 |
|----------|--------|----------|--------|----------|----------|----------|
| TC-P10-01 | FR-028 | 用户信息展示 | P0 | 已登录 | 1. 进入个人中心 | 展示头像、脱敏手机号、会员标识 |
| TC-P10-02 | FR-028 | 头像更换 | P2 | 在个人中心 | 1. 点击头像 | 可更换（微信授权） |
| TC-P10-03 | FR-028 | 未登录展示 | P1 | 未登录 | 1. 进入个人中心 | 显示默认头像/「未登录」或引导登录 |
| TC-P10-04 | FR-029 | 报告列表展示 | P0 | 已登录 | 1. 进入报告相关入口 | 展示各类报告，支持按类型筛选 |
| TC-P10-05 | FR-029 | 报告列表搜索 | P1 | 有报告数据 | 1. 输入公司名/文件名搜索 | 支持搜索筛选 |
| TC-P10-06 | FR-029 | 报告列表时间筛选 | P1 | 有报告数据 | 1. 选择「近7天」「近30天」 | 按时间筛选 |
| TC-P10-07 | FR-030 | 施工照片入口 | P1 | 在个人中心 | 1. 进入施工照片 | 按阶段展示照片，支持批量管理 |
| TC-P10-08 | FR-031 | 订单管理 | P1 | 有订单 | 1. 进入订单相关入口 | 展示订单列表，支持查看详情/支付/取消 |
| TC-P10-09 | FR-032 | 设置入口跳转 | P2 | 在个人中心 | 1. 点击各设置入口 | 正确跳转：中立声明、账户与通知、关于&帮助、意见反馈、联系客服 |

---

## 十、报告详情页（P11/P12/P13）

| 用例编号 | 功能ID | 用例名称 | 优先级 | 前置条件 | 测试步骤 | 预期结果 |
|----------|--------|----------|--------|----------|----------|----------|
| TC-P11-01 | - | 公司风险报告展示 | P0 | 有公司检测报告 | 1. 从检测完成或报告列表进入 | 展示风险等级、详情、风险原因等 |
| TC-P12-01 | FR-033 | 报价单报告核心内容 | P0 | 有报价单分析结果 | 1. 进入报价单报告 | 显示风险等级、前3项漏项/虚高项（30%核心内容） |
| TC-P13-01 | FR-033 | 合同报告核心内容 | P0 | 有合同分析结果 | 1. 进入合同报告 | 显示风险等级、前3项霸王条款（30%核心内容） |
| TC-P12-02 | FR-034 | 解锁完整报告 | P1 | 报告未解锁 | 1. 点击「解锁完整报告」 | 跳转至报告解锁确认页 |
| TC-P12-03 | - | PDF 导出 | P1 | 报告已解锁 | 1. 点击「PDF导出」 | 下载 PDF，命名符合规则 |

---

## 十一、消息中心（P14）

| 用例编号 | 功能ID | 用例名称 | 优先级 | 前置条件 | 测试步骤 | 预期结果 |
|----------|--------|----------|--------|----------|----------|----------|
| TC-P14-01 | - | 消息列表展示 | P0 | 已登录 | 1. 进入消息中心 | 展示消息列表，未读标红 |
| TC-P14-02 | - | 消息已读 | P1 | 有未读消息 | 1. 点击某条消息 | 标记为已读，小红点更新 |
| TC-P14-03 | - | 一键已读 | P1 | 有未读消息 | 1. 点击「一键已读」 | 全部标记为已读 |
| TC-P14-04 | - | 消息跳转 | P2 | 消息含链接 | 1. 点击带链接的消息 | 跳转至对应页面 |
| TC-P14-05 | - | 无消息展示 | P2 | 无消息 | 1. 进入消息中心 | 显示「暂无消息」类提示 |

---

## 十二、拍照/施工照片（P15/P29）

| 用例编号 | 功能ID | 用例名称 | 优先级 | 前置条件 | 测试步骤 | 预期结果 |
|----------|--------|----------|--------|----------|----------|----------|
| TC-P15-01 | - | 拍照/选择照片 | P0 | 在拍照页 | 1. 点击拍照或选择照片 | 支持相机/相册，按阶段标记，最多9张 |
| TC-P15-02 | - | 照片按阶段展示 | P0 | 有照片 | 1. 进入施工照片页 | 按水电/泥木/油漆/地板/软装分组展示 |
| TC-P15-03 | FR-030 | 批量管理 | P1 | 有照片 | 1. 点击「批量管理」2. 多选照片 | 进入编辑模式，支持多选 |
| TC-P15-04 | FR-030 | 批量删除 | P1 | 已多选照片 | 1. 点击「删除」2. 确认 | 删除选中的照片 |
| TC-P15-05 | FR-030 | 批量移动 | P1 | 已多选照片 | 1. 点击「移动」2. 选择目标阶段 | 将照片移动到所选阶段 |
| TC-P15-06 | - | 取消选择 | P2 | 选择图片时取消 | 1. 在选择界面点击取消 | 不报错，不弹出错误提示 |

---

## 十三、验收分析（P30）

| 用例编号 | 功能ID | 用例名称 | 优先级 | 前置条件 | 测试步骤 | 预期结果 |
|----------|--------|----------|--------|----------|----------|----------|
| TC-P30-01 | - | 验收照片上传 | P0 | 在验收分析页 | 1. 拍照/选择照片上传 | 支持上传多张，触发 AI 分析 |
| TC-P30-02 | - | 验收结果展示 | P0 | 分析完成 | 1. 等待分析完成 | 展示问题识别、整改建议 |
| TC-P30-03 | - | 验收指引 | P1 | 在验收分析或施工陪伴 | 1. 打开验收指引 | 展示阶段验收要点（基于 GB 50327） |

---

## 十四、进度分享（P32）

| 用例编号 | 功能ID | 用例名称 | 优先级 | 前置条件 | 测试步骤 | 预期结果 |
|----------|--------|----------|--------|----------|----------|----------|
| TC-P32-01 | FR-027 | 进度分享编辑 | P2 | 在施工陪伴页 | 1. 点击「一键分享进度」 | 可编辑分享内容、预览、选择分享渠道 |

---

## 十五、权限与异常（P33/P34）

| 用例编号 | 功能ID | 用例名称 | 优先级 | 前置条件 | 测试步骤 | 预期结果 |
|----------|--------|----------|--------|----------|----------|----------|
| TC-P33-01 | - | 网络异常提示 | P1 | 断网 | 1. 进行需联网操作 | 显示网络异常提示、重试按钮 |
| TC-P34-01 | - | 相机权限请求 | P1 | 首次拍照 | 1. 点击拍照 | 弹出相机权限请求，拒绝时提示 |
| TC-P34-02 | - | 取消选择不报错 | P2 | 任意选择文件/图片 | 1. 打开选择器后点击取消 | 不弹出错误 toast，正常返回 |

---

## 十六、意见反馈（P22）

| 用例编号 | 功能ID | 用例名称 | 优先级 | 前置条件 | 测试步骤 | 预期结果 |
|----------|--------|----------|--------|----------|----------|----------|
| TC-P22-01 | - | 反馈提交 | P1 | 在意见反馈页 | 1. 输入内容 2. 可选上传图片 3. 提交 | 提交成功，toast 提示 |

---

## 十七、非功能测试

| 用例编号 | 类别 | 用例名称 | 优先级 | 测试步骤 | 预期结果 |
|----------|------|----------|--------|----------|----------|
| TC-NF-01 | 性能 | 首屏加载 | P1 | 冷启动进入首页 | 首屏加载时间≤1.5秒 |
| TC-NF-02 | 性能 | 报告生成时间 | P1 | 完成公司检测/报价/合同分析 | 报告生成≤8秒 |
| TC-NF-03 | 兼容 | iOS 适配 | P1 | 在 iOS 设备测试核心流程 | 功能正常，无遮挡、错位 |
| TC-NF-04 | 兼容 | Android 适配 | P1 | 在 Android 设备测试核心流程 | 功能正常 |
| TC-NF-05 | 安全 | 登录态校验 | P1 | 清除 token 后访问需登录页 | 提示登录或跳转登录 |
| TC-NF-06 | 安全 | 数据隔离 | P1 | 用户 A 登录，尝试访问用户 B 报告 | 无法访问，返回 404 或无权限 |

---

## 十八、测试执行记录模板

| 用例编号 | 执行日期 | 执行人 | 结果（通过/失败） | 备注 |
|----------|----------|--------|-------------------|------|
| TC-P01-01 | | | | |
| ... | | | | |

---

**说明**：本用例覆盖 PRD V2.1 中 34 个核心页面的主要功能点，可根据实际开发进度选择性执行。建议优先执行 P0 用例，再覆盖 P1。
