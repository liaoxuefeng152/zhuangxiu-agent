# OSS生命周期规则配置说明

## 概述

照片文件上传到 `zhuangxiu-images-dev-photo` bucket后，需要在OSS控制台配置生命周期规则，使照片在1年后自动删除。

## 配置步骤

### 1. 登录阿里云OSS控制台

访问：https://oss.console.aliyun.com/

### 2. 选择Bucket

选择 `zhuangxiu-images-dev-photo` bucket

### 3. 创建生命周期规则

1. 进入 **基础设置** → **生命周期**
2. 点击 **创建规则**
3. 配置规则：
   - **规则名称**：`photo-lifecycle-1year`
   - **前缀**：留空（应用到所有对象）或指定前缀（如 `construction/`、`acceptance/`）
   - **状态**：启用
   - **操作**：选择 **删除对象**
   - **天数**：`365`（1年）
   - **说明**：对象最后修改时间超过365天后自动删除

### 4. 保存规则

点击 **确定** 保存规则

## 注意事项

1. **规则生效时间**：生命周期规则创建后24小时内加载，之后每天北京时间8:00开始执行
2. **执行条件**：Object的最后修改时间与规则执行时间必须间隔24小时以上
3. **规则数量**：通过控制台最多可配置100条规则
4. **规则更新**：更新规则时需包含已有规则（覆盖语义）

## 验证规则

配置完成后，可以通过以下方式验证：

1. 上传一张测试照片
2. 在OSS控制台查看该对象的元数据
3. 等待24小时后，检查规则是否已加载
4. 1年后检查文件是否自动删除

## 相关文档

- [OSS生命周期规则文档](https://help.aliyun.com/zh/oss/lifecycle-rules-1)
- [OSS控制台操作指南](https://help.aliyun.com/zh/oss/user-guide/manage-object-metadata-10)
