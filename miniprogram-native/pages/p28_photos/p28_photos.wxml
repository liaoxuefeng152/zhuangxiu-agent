<view class="p28-page">
  <!-- é˜¶æ®µåˆ†ç±»æ ‡ç­¾ -->
  <scroll-view class="tabs" scroll-x enhanced show-scrollbar="{{false}}">
    <view class="tab-list">
      <view
        wx:for="{{tabs}}"
        wx:key="id"
        class="tab-item {{currentTab === item.id ? 'active' : ''}}"
        bindtap="onTabTap"
        data-id="{{item.id}}"
      >{{item.name}}</view>
    </view>
  </scroll-view>

  <!-- ç…§ç‰‡åŒº -->
  <view class="photo-area" wx:if="{{photoList.length > 0}}">
    <view class="photo-grid">
      <view
        wx:for="{{photoList}}"
        wx:key="index"
        class="photo-cell {{batchMode && item.selected ? 'selected' : ''}}"
        bindtap="onPhotoTap"
        data-index="{{index}}"
        data-url="{{item.path}}"
      >
        <image class="photo-img" src="{{item.path}}" mode="aspectFill" />
        <view class="photo-check" wx:if="{{batchMode}}">{{item.selected ? 'âœ“' : ''}}</view>
        <text class="photo-time">{{item.timeText}}</text>
      </view>
    </view>
  </view>

  <!-- ç©ºè§†å›¾ -->
  <view class="empty-state" wx:else>
    <text class="empty-icon">ğŸ“·</text>
    <text class="empty-text">æš‚æ— {{currentTabName}}ç…§ç‰‡</text>
    <button class="btn-primary empty-btn" bindtap="onGoPhoto">å»æ‹æ‘„</button>
  </view>

  <!-- æ‰¹é‡æ“ä½œæ  -->
  <view class="batch-bar" wx:if="{{batchMode}}">
    <text bindtap="onToggleSelectAll">{{selectAll ? 'å–æ¶ˆå…¨é€‰' : 'å…¨é€‰'}}</text>
    <text bindtap="onBatchDel">åˆ é™¤å·²é€‰</text>
    <text bindtap="onBatchExport">å¯¼å‡ºå·²é€‰</text>
  </view>

  <view class="top-actions">
    <text class="batch-btn" bindtap="onToggleBatch">{{batchMode ? 'å–æ¶ˆ' : 'æ‰¹é‡æ“ä½œ'}}</text>
  </view>

  <view class="safe-area-bottom"></view>
</view>
