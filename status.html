<!DOCTYPE html>
<html>
<head>
    <title>å®¶è£…AIåŠ©æ‰‹ - ç³»ç»ŸçŠ¶æ€</title>
    <meta charset="utf-8">
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        .status { padding: 10px; margin: 10px; border-radius: 5px; }
        .healthy { background: #d4edda; color: #155724; }
        .warning { background: #fff3cd; color: #856404; }
        .error { background: #f8d7da; color: #721c24; }
        .card { border: 1px solid #ddd; padding: 20px; margin: 20px 0; border-radius: 8px; }
        a { color: #007bff; text-decoration: none; }
        a:hover { text-decoration: underline; }
    </style>
</head>
<body>
    <h1>ğŸ  å®¶è£…AIåŠ©æ‰‹ - ç³»ç»ŸçŠ¶æ€</h1>
    
    <div class="card">
        <h2>ğŸ“Š ç³»ç»Ÿä¿¡æ¯</h2>
        <div id="health-status">åŠ è½½ä¸­...</div>
        <div id="version">åŠ è½½ä¸­...</div>
        <div id="database-status">åŠ è½½ä¸­...</div>
    </div>
    
    <div class="card">
        <h2>ğŸ”— å¿«é€Ÿé“¾æ¥</h2>
        <ul>
            <li><a href="http://localhost:8000/docs" target="_blank">ğŸ“š API æ–‡æ¡£ (Swagger)</a></li>
            <li><a href="http://localhost:8000/redoc" target="_blank">ğŸ“– API æ–‡æ¡£ (ReDoc)</a></li>
            <li><a href="http://localhost:8000/openapi.json" target="_blank">ğŸ“„ OpenAPI è§„èŒƒ</a></li>
            <li><a href="http://localhost:8000/health" target="_blank">ğŸ¥ å¥åº·æ£€æŸ¥</a></li>
        </ul>
    </div>
    
    <div class="card">
        <h2>ğŸ› ï¸ ç®¡ç†å‘½ä»¤</h2>
        <pre>
# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f backend

# é‡å¯æœåŠ¡
docker-compose restart backend

# åœæ­¢æ‰€æœ‰æœåŠ¡
docker-compose down

# æ›´æ–°å¹¶é‡å¯
git pull && docker-compose up -d --build
        </pre>
    </div>
    
    <script>
        async function loadStatus() {
            try {
                const response = await fetch('http://localhost:8000/health');
                const data = await response.json();
                
                document.getElementById('health-status').innerHTML = 
                    `<div class="status healthy">âœ… å¥åº·çŠ¶æ€: ${data.data.status}</div>`;
                document.getElementById('version').innerHTML = 
                    `ç‰ˆæœ¬: ${data.data.version}`;
                document.getElementById('database-status').innerHTML = 
                    `æ•°æ®åº“è¿æ¥æ± : ${JSON.stringify(data.data.database)}`;
            } catch (error) {
                document.getElementById('health-status').innerHTML = 
                    `<div class="status error">âŒ æ— æ³•è¿æ¥åˆ°åç«¯æœåŠ¡</div>`;
            }
        }
        
        loadStatus();
        setInterval(loadStatus, 30000); // æ¯30ç§’åˆ·æ–°
    </script>
</body>
</html>
